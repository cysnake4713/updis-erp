<?xml version="1.0"?>
<openerp>
	<data>
		<menuitem
			icon="terp-project" id="base.menu_main_up_pm"
			name="Project Management" sequence="10"
			web_icon="images/up_project.png"
			web_icon_hover="images/up_project-hover.png"/>
		<record id="view_up_project_tree" model="ir.ui.view">
			<field name="name">up.project.project.tree</field>
			<field name="model">up.project.project</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Project" colors="blue:state == 'cehua';black:state in ('shuru','pingshen');gray:state == 'fuwu'">
					<field name="name"/>
					<field name="chenjiefuzeren_id"/>
					<field name="xiangmubianhao" />
					<field name="state"/>
				</tree>
			</field>
		</record>
		<record id="view_up_project_form" model="ir.ui.view">
			<field name="name">up.project.project.form</field>
			<field name="model">up.project.project</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Project">
					<group col="8" colspan="4">
						<field name="name" select="1"/>
						<field name="chenjiefuzeren_id" select="1"/>
						<field name="date_start"/>
					        <field name="xiangmubianhao" />	
					</group>						
					<notebook colspan="4">
						<page string="基本信息" >
							<group col="8" colspan="4">
								<field name="waibao"/>
								<field name="shizhenpeitao"/>
								<field name="duofanghetong"/>
								<newline />
								<field name="guimo"/>
								<field name="jianyishejibumen_id"/>
								<field name="jianyixiangmufuzeren_id"/>
								<field name="jiafang_id"/>	
							</group>						
						</page>
						<page string="所长审批">	
                                                        <newline/>	
                                                        <group string="所长审批内容" colspan="4" >
							<field name="yaoqiuxingchengwenjian"/>	
							<field name="yinhanyaoqiu"/>	
							<field name="difangfagui"/>		
							<field name="fujiayaoqiu"/>		
							<field name="hetongyizhi"/>	
							<field name="ziyuan"/>		
							<field name="shebei"/>		
							<field name="gongqi"/>		
							<field name="shejifei"/>	
                                                        </group>
							<group string="明示要求"  colspan="4">
								<field name="zhaobiaoshu" />		
								<field name="weituoshu" />	
								<field name="xieyicaoan" />		
								<field name="koutouyaoqiujilu" />		
							</group>								
						</page>
						<page string="经营室指定设计部门">	
							<field name="pingshenfangshi"/>	
							<field name="yinfacuoshi"/>	
							<field name="renwuyaoqiu"/>	
							<field name="chenjiebumen_id"/>
						</page>
						<page string="总师室指定项目负责人">
							<field name="category_id"/>
							<field name="toubiaoleibie"/>
							<field name="guanlijibie"/>
							<field name="chenjiefuzeren_id"/>
							<field name="zhuguanzongshi_id"/>
						</page>
						<page string="所长签字确认任务下达">
						</page>
						<page string="项目负责人启动项目">
						</page>
					</notebook>
					<group string="项目流程">
						<button name="project_suozhangshenpi" string="提交所长审批" states="tianshenqingdan" icon="gtk-go-forward"/>						
						<button name="project_suozhangshenpi_reject" string="打回" states="suozhangshenpi" icon="gtk-cancel"/>				
						<button name="project_zhidingbumen" string="提交经营室" states="suozhangshenpi" icon="gtk-go-forward"/>						
						<button name="project_zhidingbumen_reject" string="打回" states="zhidingbumen" icon="gtk-cancel"/>	
						<button name="project_zhidingfuzeren" string="提交总师室" states="zhidingbumen" icon="gtk-go-forward"/>						
						<button name="project_zhidingfuzeren_reject" string="打回" states="zhidingfuzeren" icon="gtk-cancel"/>
						<button name="project_suozhangqianzi" string="提交所长签字" states="zhidingfuzeren" icon="gtk-go-forward"/>						
						<button name="project_suozhangqianzi_reject" string="打回" states="suozhangqianzi" icon="gtk-cancel"/>
						<button name="project_fuzerenqidong" string="启动项目" states="suozhangqianzi" icon="gtk-go-forward"/>						
						<button name="project_fuzerenqidong_reject" string="打回" states="fuzerenqidong" icon="gtk-cancel"/>
						<field name="state" widget="statusbar" colspan="4"/>
					</group>
				</form>
			</field>
		</record>
		<record id="action_up_project_project_open" model="ir.actions.act_window">
			<field name="name">Open Projects</field>
			<field name="res_model">up.project.project</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<menuitem action="action_up_project_project_open"
			id="menu_up_project" parent="base.menu_main_up_pm" name="Projects" sequence="1" />
		<record id="action_up_project_project_open_val" model="ir.values">
			<field name="key2" eval="'tree_but_open'" />
			<field name="model" eval="'up.project.project'" />
			<field name="name">Projects Tree Button Open</field>
			<field name="value" eval="'ir.actions.act_window,'+str(action_up_project_project_open)" />
		</record>
	</data>
</openerp>
