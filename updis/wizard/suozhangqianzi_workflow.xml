<?xml version="1.0"?>
<openerp>
	<data>
		<record model="workflow" id="wkf_project_review_suozhangqianzishenpi_form">
			<field name="name">项目启动所长签字审批流程</field>
			<field name="osv">project.review.suozhangqianzishenpi.form</field>
			<field name="on_create">True</field>
		</record>
		<!-- Activities -->
		<record id="act_suozhangqianzishenpi_draft" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_suozhangqianzishenpi_form" />
			<field name="name">draft</field>
			<field name="flow_start">True</field>
			<field name="kind">function</field>
			<field name="action">update_project_suozhangqianzishenpi_form()</field>
		</record>
		<record id="act_suozhangqianzishenpi_submitted" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_suozhangqianzishenpi_form" />
			<field name="name">Submitted</field>
			<field name="action_id" ref="suozhangqianzishenpi_multi_submitted"/>
			<field name="kind">function</field>
			<field name="action">write({'state':'submitted'})</field>
		</record>
		<record id="act_suozhangqianzishenpi_accepted" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_suozhangqianzishenpi_form" />
			<field name="name">Accepted</field>
			<field name="flow_stop">True</field>
			<field name="kind">function</field>
			<field name="action_id" ref="suozhangqianzishenpi_multi_accepted"/>
			<field name="action">write({'state':'accepted'})</field>
		</record>
		<record id="act_suozhangqianzishenpi_rejected" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_suozhangqianzishenpi_form" />
			<field name="name">Rejected</field>
			<field name="flow_stop">True</field>
			<field name="kind">function</field>
			<field name="action">write({'state':'rejected'})
			copy_rejected(default={'state':'draft'})</field>
		</record>
		<!-- Transitions -->
		<record id="trans_suozhangqianzishenpi_1" model="workflow.transition">
			<field name="act_from" ref="act_suozhangqianzishenpi_draft"/>
			<field name="act_to" ref="act_suozhangqianzishenpi_submitted"/>
			<field name="signal">suozhangqianzishenpi_review_submit</field>
		</record>
		<record id="trans_suozhangqianzishenpi_2" model="workflow.transition">
			<field name="act_from" ref="act_suozhangqianzishenpi_submitted"/>
			<field name="act_to" ref="act_suozhangqianzishenpi_accepted"/>
			<field name="signal">suozhangqianzishenpi_review_accept</field>
		</record>
		<record id="trans_suozhangqianzishenpi_3" model="workflow.transition">
			<field name="act_from" ref="act_suozhangqianzishenpi_submitted"/>
			<field name="act_to" ref="act_suozhangqianzishenpi_rejected"/>
			<field name="signal">suozhangqianzishenpi_review_reject</field>
		</record>

	</data>
</openerp>