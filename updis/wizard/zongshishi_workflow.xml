<?xml version="1.0"?>
<openerp>
	<data>
		<record model="workflow" id="wkf_project_review_zongshishishenpi_form">
			<field name="name">项目启动总师室审批流程</field>
			<field name="osv">project.review.zongshishishenpi.form</field>
			<field name="on_create">True</field>
		</record>
		<!-- Activities -->
		<record id="act_zongshishishenpi_draft" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_zongshishishenpi_form" />
			<field name="name">draft</field>
			<field name="flow_start">True</field>
			<field name="kind">function</field>
			<field name="action">update_project_zongshishishenpi_form()</field>
		</record>
		<record id="act_zongshishishenpi_submitted" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_zongshishishenpi_form" />
			<field name="name">Submitted</field>
			<field name="action_id" ref="zongshishishenpi_multi_submitted"/>
			<field name="kind">function</field>
			<field name="action">write({'state':'submitted'})</field>
		</record>
		<record id="act_zongshishishenpi_accepted" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_zongshishishenpi_form" />
			<field name="name">Accepted</field>
			<field name="flow_stop">True</field>
			<field name="kind">function</field>
			<field name="action_id" ref="zongshishishenpi_multi_accepted"/>
			<field name="action">write({'state':'accepted'})</field>
		</record>
		<record id="act_zongshishishenpi_rejected" model="workflow.activity">
			<field name="wkf_id" ref="wkf_project_review_zongshishishenpi_form" />
			<field name="name">Rejected</field>
			<field name="flow_stop">True</field>
			<field name="kind">function</field>
			<field name="action">write({'state':'rejected'})
			copy_rejected(default={'state':'draft'})</field>
		</record>
		<!-- Transitions -->
		<record id="trans_zongshishishenpi_1" model="workflow.transition">
			<field name="act_from" ref="act_zongshishishenpi_draft"/>
			<field name="act_to" ref="act_zongshishishenpi_submitted"/>
			<field name="signal">zongshishishenpi_review_submit</field>
		</record>
		<record id="trans_zongshishishenpi_2" model="workflow.transition">
			<field name="act_from" ref="act_zongshishishenpi_submitted"/>
			<field name="act_to" ref="act_zongshishishenpi_accepted"/>
			<field name="signal">zongshishishenpi_review_accept</field>
		</record>
		<record id="trans_zongshishishenpi_3" model="workflow.transition">
			<field name="act_from" ref="act_zongshishishenpi_submitted"/>
			<field name="act_to" ref="act_zongshishishenpi_rejected"/>
			<field name="signal">zongshishishenpi_review_reject</field>
		</record>

	</data>
</openerp>