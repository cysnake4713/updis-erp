<?xml version="1.0"?>
<openerp>
	<data>
		<record model="workflow" id="wkf_up_project">
			<field name="name">workflow.project.project</field>
			<field name="osv">project.project</field>
			<field name="on_create">True</field>
		</record>
		<!-- Activities -->
		<!-- <record id="act_draft" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="flow_start">True</field>
			<field name="name">draft</field>
			<field name="kind">dummy</field>			
		</record> -->
		<record id="act_tianshenqingdan" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="name">tianshenqingdan</field>
			<field name="flow_start">True</field>
			<field name="kind">function</field>
			<field name="action">project_tianshenqingdan()</field>
		</record>
		<record id="act_suozhangshenpi" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="name">suozhangshenpi</field>
			<field name="kind">function</field>
			<field name="action">project_suozhangshenpi()</field>
		</record>
		<record id="act_zhidingbumen" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="name">zhidingbumen</field>
			<field name="kind">function</field>
			<field name="action">project_zhidingbumen()</field>
		</record>
		<record id="act_zhidingfuzeren" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="name">zhidingfuzeren</field>
			<field name="kind">function</field>
			<field name="action">project_zhidingfuzeren()</field>
		</record>
		<record id="act_suozhangqianzi" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="name">suozhangqianzi</field>
			<field name="kind">function</field>
			<field name="action">project_suozhangqianzi()</field>
		</record>
		<record id="act_fuzerenqidong" model="workflow.activity">
			<field name="wkf_id" ref="wkf_up_project" />
			<field name="name">fuzerenqidong</field>
			<field name="kind">function</field>
			<field name="action">project_fuzerenqidong()</field>
		</record>
		<!-- Transitions -->
		<record id="t1" model="workflow.transition">
			<field name="act_from" ref="act_tianshenqingdan"/>
			<field name="act_to" ref="act_suozhangshenpi"/>
			<field name="trigger_model">project.review.suozhangshenpi.form</field>
			<field name="trigger_expr_id">suozhangform_get()</field>
			<field name="condition">test_suozhangform_submitted()</field>
		</record>
		<record id="t2" model="workflow.transition">
			<field name="act_from" ref="act_suozhangshenpi"/>
			<field name="act_to" ref="act_tianshenqingdan"/>
			<field name="signal">project_suozhangshenpi_reject</field>
		</record>
		<record id="t3" model="workflow.transition">
			<field name="act_from" ref="act_suozhangshenpi"/>
			<field name="act_to" ref="act_zhidingbumen"/>
			<field name="signal">project_zhidingbumen</field>
		</record>
		<record id="t4" model="workflow.transition">
			<field name="act_from" ref="act_zhidingbumen"/>
			<field name="act_to" ref="act_suozhangshenpi"/>
			<field name="signal">project_zhidingbumen_reject</field>
		</record>
		<record id="t5" model="workflow.transition">
			<field name="act_from" ref="act_zhidingbumen"/>
			<field name="act_to" ref="act_zhidingfuzeren"/>
			<field name="signal">project_zhidingfuzeren</field>
		</record>
		<record id="t6" model="workflow.transition">
			<field name="act_from" ref="act_zhidingfuzeren"/>
			<field name="act_to" ref="act_zhidingbumen"/>
			<field name="signal">project_zhidingfuzeren_reject</field>
		</record>
		<record id="t7" model="workflow.transition">
			<field name="act_from" ref="act_zhidingfuzeren"/>
			<field name="act_to" ref="act_suozhangqianzi"/>
			<field name="signal">project_suozhangqianzi</field>
		</record>
		<record id="t8" model="workflow.transition">
			<field name="act_from" ref="act_suozhangqianzi"/>
			<field name="act_to" ref="act_zhidingfuzeren"/>
			<field name="signal">project_suozhangqianzi_reject</field>
		</record>
		<record id="t9" model="workflow.transition">
			<field name="act_from" ref="act_suozhangqianzi"/>
			<field name="act_to" ref="act_fuzerenqidong"/>
			<field name="signal">project_fuzerenqidong</field>
		</record>
		<record id="10" model="workflow.transition">
			<field name="act_from" ref="act_fuzerenqidong"/>
			<field name="act_to" ref="act_suozhangqianzi"/>
			<field name="signal">project_fuzerenqidong_reject</field>
		</record>

	</data>
</openerp>